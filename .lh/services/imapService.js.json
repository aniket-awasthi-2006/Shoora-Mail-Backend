{
    "sourceFile": "services/imapService.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 21,
            "patches": [
                {
                    "date": 1767117310963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1767117317265,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n                 });\r\n             }\r\n             return {\r\n                 id: item.attributes.uid,\r\n-                \r\n+                folder: 'INBOX',\r\n                 subject: mail.subject,\r\n                 from: mail.from.text,\r\n                 date: mail.date,\r\n                 text: mail.text,\r\n"
                },
                {
                    "date": 1767117322824,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n                 });\r\n             }\r\n             return {\r\n                 id: item.attributes.uid,\r\n-                folder: 'INBOX',\r\n+                folder: 'inbox',\r\n                 subject: mail.subject,\r\n                 from: mail.from.text,\r\n                 date: mail.date,\r\n                 text: mail.text,\r\n"
                },
                {
                    "date": 1767117429762,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,8 +53,9 @@\n             }\r\n             return {\r\n                 id: item.attributes.uid,\r\n                 folder: 'inbox',\r\n+                \r\n                 subject: mail.subject,\r\n                 from: mail.from.text,\r\n                 date: mail.date,\r\n                 text: mail.text,\r\n"
                },
                {
                    "date": 1767117436946,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,9 +53,9 @@\n             }\r\n             return {\r\n                 id: item.attributes.uid,\r\n                 folder: 'inbox',\r\n-                \r\n+                Sender: mail.from.text,\r\n                 subject: mail.subject,\r\n                 from: mail.from.text,\r\n                 date: mail.date,\r\n                 text: mail.text,\r\n"
                },
                {
                    "date": 1767117664789,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,77 @@\n+import imaps from 'imap-simple';\r\n+import { simpleParser } from 'mailparser';\r\n+import { mailConfig } from '../config/mailConfig.js';\r\n+import { join, dirname } from 'path';\r\n+import { fileURLToPath } from 'url';\r\n+import { writeFileSync } from 'fs';\r\n+import dotenv from 'dotenv';\r\n+dotenv.config();\r\n+\r\n+const __filename = fileURLToPath(import.meta.url);\r\n+const __dirname = dirname(__filename);\r\n+\r\n+const fetchInbox = async (email, password) => {\r\n+    const connection = await imaps.connect({\r\n+        imap: {\r\n+            user: email,\r\n+            password: password,\r\n+            host: 'imap.stackmail.com',\r\n+            port: 993,\r\n+            tls: true,\r\n+            tlsOptions: { rejectUnauthorized: false },\r\n+            authTimeout: 10000\r\n+        }\r\n+    });\r\n+    await connection.openBox('INBOX');\r\n+\r\n+    // Fetch the 15 most recent emails\r\n+    const searchCriteria = ['UNSEEN'];\r\n+    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n+    const messages = await connection.search(searchCriteria, fetchOptions);\r\n+\r\n+    const parsedMails = await Promise.all(\r\n+        messages.slice(-10).map(async (item) => {\r\n+            const all = item.parts.find((part) => part.which === '');\r\n+            const mail = await simpleParser(all.body);\r\n+\r\n+            const savedFiles = [];\r\n+\r\n+            if (mail.attachments && mail.attachments.length > 0) {\r\n+                mail.attachments.forEach(attachment => {\r\n+                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n+                    const filepath = join(__dirname, 'uploads', filename);\r\n+\r\n+                    // Write the file buffer to your server disk\r\n+                    writeFileSync(filepath, attachment.content);\r\n+\r\n+                    savedFiles.push({\r\n+                        fileName: attachment.filename,\r\n+                        contentType: attachment.contentType,\r\n+                        url: `/uploads/${filename}` // URL to access the file\r\n+                    });\r\n+                });\r\n+            }\r\n+            \r\n+            return {\r\n+                id: item.attributes.uid,\r\n+                folder: 'inbox',\r\n+                Sender: mail.from.text,\r\n+                subject: mail.subject,\r\n+                from: mail.from.text,\r\n+                date: mail.date,\r\n+                text: mail.text,\r\n+                attachments: savedFiles\r\n+            };\r\n+        })\r\n+    );\r\n+\r\n+    connection.end();\r\n+    const emailUser = email.split('@')[0];\r\n+    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+    return {\r\n+        userName,\r\n+        mails: parsedMails.reverse(), // Newest first\r\n+    };\r\n+};\r\n+\r\n+export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767117673922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,77 @@\n+import imaps from 'imap-simple';\r\n+import { simpleParser } from 'mailparser';\r\n+import { mailConfig } from '../config/mailConfig.js';\r\n+import { join, dirname } from 'path';\r\n+import { fileURLToPath } from 'url';\r\n+import { writeFileSync } from 'fs';\r\n+import dotenv from 'dotenv';\r\n+dotenv.config();\r\n+\r\n+const __filename = fileURLToPath(import.meta.url);\r\n+const __dirname = dirname(__filename);\r\n+\r\n+const fetchInbox = async (email, password) => {\r\n+    const connection = await imaps.connect({\r\n+        imap: {\r\n+            user: email,\r\n+            password: password,\r\n+            host: 'imap.stackmail.com',\r\n+            port: 993,\r\n+            tls: true,\r\n+            tlsOptions: { rejectUnauthorized: false },\r\n+            authTimeout: 10000\r\n+        }\r\n+    });\r\n+    await connection.openBox('INBOX');\r\n+\r\n+    // Fetch the 15 most recent emails\r\n+    const searchCriteria = ['UNSEEN'];\r\n+    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n+    const messages = await connection.search(searchCriteria, fetchOptions);\r\n+\r\n+    const parsedMails = await Promise.all(\r\n+        messages.slice(-10).map(async (item) => {\r\n+            const all = item.parts.find((part) => part.which === '');\r\n+            const mail = await simpleParser(all.body);\r\n+\r\n+            const savedFiles = [];\r\n+\r\n+            if (mail.attachments && mail.attachments.length > 0) {\r\n+                mail.attachments.forEach(attachment => {\r\n+                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n+                    const filepath = join(__dirname, 'uploads', filename);\r\n+\r\n+                    // Write the file buffer to your server disk\r\n+                    writeFileSync(filepath, attachment.content);\r\n+\r\n+                    savedFiles.push({\r\n+                        fileName: attachment.filename,\r\n+                        contentType: attachment.contentType,\r\n+                        url: `/uploads/${filename}` // URL to access the file\r\n+                    });\r\n+                });\r\n+            }\r\n+            const emailSender = email.split('@')[0];\r\n+            return {\r\n+                id: item.attributes.uid,\r\n+                folder: 'inbox',\r\n+                Sender: mail.from.text,\r\n+                subject: mail.subject,\r\n+                from: mail.from.text,\r\n+                date: mail.date,\r\n+                text: mail.text,\r\n+                attachments: savedFiles\r\n+            };\r\n+        })\r\n+    );\r\n+\r\n+    connection.end();\r\n+    const emailUser = email.split('@')[0];\r\n+    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+    return {\r\n+        userName,\r\n+        mails: parsedMails.reverse(), // Newest first\r\n+    };\r\n+};\r\n+\r\n+export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767117693845,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n                         url: `/uploads/${filename}` // URL to access the file\r\n                     });\r\n                 });\r\n             }\r\n-            const emailSender = email.split('@')[0];\r\n+            const emailSender = mail.split('@')[0];\r\n             return {\r\n                 id: item.attributes.uid,\r\n                 folder: 'inbox',\r\n                 Sender: mail.from.text,\r\n"
                },
                {
                    "date": 1767117699620,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,77 @@\n+import imaps from 'imap-simple';\r\n+import { simpleParser } from 'mailparser';\r\n+import { mailConfig } from '../config/mailConfig.js';\r\n+import { join, dirname } from 'path';\r\n+import { fileURLToPath } from 'url';\r\n+import { writeFileSync } from 'fs';\r\n+import dotenv from 'dotenv';\r\n+dotenv.config();\r\n+\r\n+const __filename = fileURLToPath(import.meta.url);\r\n+const __dirname = dirname(__filename);\r\n+\r\n+const fetchInbox = async (email, password) => {\r\n+    const connection = await imaps.connect({\r\n+        imap: {\r\n+            user: email,\r\n+            password: password,\r\n+            host: 'imap.stackmail.com',\r\n+            port: 993,\r\n+            tls: true,\r\n+            tlsOptions: { rejectUnauthorized: false },\r\n+            authTimeout: 10000\r\n+        }\r\n+    });\r\n+    await connection.openBox('INBOX');\r\n+\r\n+    // Fetch the 15 most recent emails\r\n+    const searchCriteria = ['UNSEEN'];\r\n+    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n+    const messages = await connection.search(searchCriteria, fetchOptions);\r\n+\r\n+    const parsedMails = await Promise.all(\r\n+        messages.slice(-10).map(async (item) => {\r\n+            const all = item.parts.find((part) => part.which === '');\r\n+            const mail = await simpleParser(all.body);\r\n+\r\n+            const savedFiles = [];\r\n+\r\n+            if (mail.attachments && mail.attachments.length > 0) {\r\n+                mail.attachments.forEach(attachment => {\r\n+                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n+                    const filepath = join(__dirname, 'uploads', filename);\r\n+\r\n+                    // Write the file buffer to your server disk\r\n+                    writeFileSync(filepath, attachment.content);\r\n+\r\n+                    savedFiles.push({\r\n+                        fileName: attachment.filename,\r\n+                        contentType: attachment.contentType,\r\n+                        url: `/uploads/${filename}` // URL to access the file\r\n+                    });\r\n+                });\r\n+            }\r\n+            const emailSender = mail.from.text.split('@')[0];\r\n+            return {\r\n+                id: item.attributes.uid,\r\n+                folder: 'inbox',\r\n+                Sender: mail.from.text,\r\n+                subject: mail.subject,\r\n+                from: mail.from.text,\r\n+                date: mail.date,\r\n+                text: mail.text,\r\n+                attachments: savedFiles\r\n+            };\r\n+        })\r\n+    );\r\n+\r\n+    connection.end();\r\n+    const emailUser = email.split('@')[0];\r\n+    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+    return {\r\n+        userName,\r\n+        mails: parsedMails.reverse(), // Newest first\r\n+    };\r\n+};\r\n+\r\n+export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767117705114,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,77 @@\n+import imaps from 'imap-simple';\r\n+import { simpleParser } from 'mailparser';\r\n+import { mailConfig } from '../config/mailConfig.js';\r\n+import { join, dirname } from 'path';\r\n+import { fileURLToPath } from 'url';\r\n+import { writeFileSync } from 'fs';\r\n+import dotenv from 'dotenv';\r\n+dotenv.config();\r\n+\r\n+const __filename = fileURLToPath(import.meta.url);\r\n+const __dirname = dirname(__filename);\r\n+\r\n+const fetchInbox = async (email, password) => {\r\n+    const connection = await imaps.connect({\r\n+        imap: {\r\n+            user: email,\r\n+            password: password,\r\n+            host: 'imap.stackmail.com',\r\n+            port: 993,\r\n+            tls: true,\r\n+            tlsOptions: { rejectUnauthorized: false },\r\n+            authTimeout: 10000\r\n+        }\r\n+    });\r\n+    await connection.openBox('INBOX');\r\n+\r\n+    // Fetch the 15 most recent emails\r\n+    const searchCriteria = ['UNSEEN'];\r\n+    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n+    const messages = await connection.search(searchCriteria, fetchOptions);\r\n+\r\n+    const parsedMails = await Promise.all(\r\n+        messages.slice(-10).map(async (item) => {\r\n+            const all = item.parts.find((part) => part.which === '');\r\n+            const mail = await simpleParser(all.body);\r\n+\r\n+            const savedFiles = [];\r\n+\r\n+            if (mail.attachments && mail.attachments.length > 0) {\r\n+                mail.attachments.forEach(attachment => {\r\n+                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n+                    const filepath = join(__dirname, 'uploads', filename);\r\n+\r\n+                    // Write the file buffer to your server disk\r\n+                    writeFileSync(filepath, attachment.content);\r\n+\r\n+                    savedFiles.push({\r\n+                        fileName: attachment.filename,\r\n+                        contentType: attachment.contentType,\r\n+                        url: `/uploads/${filename}` // URL to access the file\r\n+                    });\r\n+                });\r\n+            }\r\n+            \r\n+            return {\r\n+                id: item.attributes.uid,\r\n+                folder: 'inbox',\r\n+                Sender: mail.from.text,\r\n+                subject: mail.subject,\r\n+                from: mail.from.text,\r\n+                date: mail.date,\r\n+                text: mail.text,\r\n+                attachments: savedFiles\r\n+            };\r\n+        })\r\n+    );\r\n+\r\n+    connection.end();\r\n+    const emailUser = email.split('@')[0];\r\n+    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+    return {\r\n+        userName,\r\n+        mails: parsedMails.reverse(), // Newest first\r\n+    };\r\n+};\r\n+\r\n+export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767117712422,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,77 @@\n+import imaps from 'imap-simple';\r\n+import { simpleParser } from 'mailparser';\r\n+import { mailConfig } from '../config/mailConfig.js';\r\n+import { join, dirname } from 'path';\r\n+import { fileURLToPath } from 'url';\r\n+import { writeFileSync } from 'fs';\r\n+import dotenv from 'dotenv';\r\n+dotenv.config();\r\n+\r\n+const __filename = fileURLToPath(import.meta.url);\r\n+const __dirname = dirname(__filename);\r\n+\r\n+const fetchInbox = async (email, password) => {\r\n+    const connection = await imaps.connect({\r\n+        imap: {\r\n+            user: email,\r\n+            password: password,\r\n+            host: 'imap.stackmail.com',\r\n+            port: 993,\r\n+            tls: true,\r\n+            tlsOptions: { rejectUnauthorized: false },\r\n+            authTimeout: 10000\r\n+        }\r\n+    });\r\n+    await connection.openBox('INBOX');\r\n+\r\n+    // Fetch the 15 most recent emails\r\n+    const searchCriteria = ['UNSEEN'];\r\n+    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n+    const messages = await connection.search(searchCriteria, fetchOptions);\r\n+\r\n+    const parsedMails = await Promise.all(\r\n+        messages.slice(-10).map(async (item) => {\r\n+            const all = item.parts.find((part) => part.which === '');\r\n+            const mail = await simpleParser(all.body);\r\n+\r\n+            const savedFiles = [];\r\n+\r\n+            if (mail.attachments && mail.attachments.length > 0) {\r\n+                mail.attachments.forEach(attachment => {\r\n+                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n+                    const filepath = join(__dirname, 'uploads', filename);\r\n+\r\n+                    // Write the file buffer to your server disk\r\n+                    writeFileSync(filepath, attachment.content);\r\n+\r\n+                    savedFiles.push({\r\n+                        fileName: attachment.filename,\r\n+                        contentType: attachment.contentType,\r\n+                        url: `/uploads/${filename}` // URL to access the file\r\n+                    });\r\n+                });\r\n+            }\r\n+            const emailSender = mail.from.textsplit('@')[0];\r\n+            return {\r\n+                id: item.attributes.uid,\r\n+                folder: 'inbox',\r\n+                Sender: mail.from.text,\r\n+                subject: mail.subject,\r\n+                from: mail.from.text,\r\n+                date: mail.date,\r\n+                text: mail.text,\r\n+                attachments: savedFiles\r\n+            };\r\n+        })\r\n+    );\r\n+\r\n+    connection.end();\r\n+    const emailUser = email.split('@')[0];\r\n+    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+    return {\r\n+        userName,\r\n+        mails: parsedMails.reverse(), // Newest first\r\n+    };\r\n+};\r\n+\r\n+export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767117738791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,78 @@\n+import imaps from 'imap-simple';\r\n+import { simpleParser } from 'mailparser';\r\n+import { mailConfig } from '../config/mailConfig.js';\r\n+import { join, dirname } from 'path';\r\n+import { fileURLToPath } from 'url';\r\n+import { writeFileSync } from 'fs';\r\n+import dotenv from 'dotenv';\r\n+dotenv.config();\r\n+\r\n+const __filename = fileURLToPath(import.meta.url);\r\n+const __dirname = dirname(__filename);\r\n+\r\n+const fetchInbox = async (email, password) => {\r\n+    const connection = await imaps.connect({\r\n+        imap: {\r\n+            user: email,\r\n+            password: password,\r\n+            host: 'imap.stackmail.com',\r\n+            port: 993,\r\n+            tls: true,\r\n+            tlsOptions: { rejectUnauthorized: false },\r\n+            authTimeout: 10000\r\n+        }\r\n+    });\r\n+    await connection.openBox('INBOX');\r\n+\r\n+    // Fetch the 15 most recent emails\r\n+    const searchCriteria = ['UNSEEN'];\r\n+    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n+    const messages = await connection.search(searchCriteria, fetchOptions);\r\n+\r\n+    const parsedMails = await Promise.all(\r\n+        messages.slice(-10).map(async (item) => {\r\n+            const all = item.parts.find((part) => part.which === '');\r\n+            const mail = await simpleParser(all.body);\r\n+\r\n+            const savedFiles = [];\r\n+\r\n+            if (mail.attachments && mail.attachments.length > 0) {\r\n+                mail.attachments.forEach(attachment => {\r\n+                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n+                    const filepath = join(__dirname, 'uploads', filename);\r\n+\r\n+                    // Write the file buffer to your server disk\r\n+                    writeFileSync(filepath, attachment.content);\r\n+\r\n+                    savedFiles.push({\r\n+                        fileName: attachment.filename,\r\n+                        contentType: attachment.contentType,\r\n+                        url: `/uploads/${filename}` // URL to access the file\r\n+                    });\r\n+                });\r\n+            }\r\n+            const emailSender = mail.from.text.split('@')[0];\r\n+            \r\n+            return {\r\n+                id: item.attributes.uid,\r\n+                folder: 'inbox',\r\n+                Sender: mail.from.text,\r\n+                subject: mail.subject,\r\n+                from: mail.from.text,\r\n+                date: mail.date,\r\n+                text: mail.text,\r\n+                attachments: savedFiles\r\n+            };\r\n+        })\r\n+    );\r\n+\r\n+    connection.end();\r\n+    const emailUser = email.split('@')[0];\r\n+    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+    return {\r\n+        userName,\r\n+        mails: parsedMails.reverse(), // Newest first\r\n+    };\r\n+};\r\n+\r\n+export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767117785531,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,78 @@\n+import imaps from 'imap-simple';\r\n+import { simpleParser } from 'mailparser';\r\n+import { mailConfig } from '../config/mailConfig.js';\r\n+import { join, dirname } from 'path';\r\n+import { fileURLToPath } from 'url';\r\n+import { writeFileSync } from 'fs';\r\n+import dotenv from 'dotenv';\r\n+dotenv.config();\r\n+\r\n+const __filename = fileURLToPath(import.meta.url);\r\n+const __dirname = dirname(__filename);\r\n+\r\n+const fetchInbox = async (email, password) => {\r\n+    const connection = await imaps.connect({\r\n+        imap: {\r\n+            user: email,\r\n+            password: password,\r\n+            host: 'imap.stackmail.com',\r\n+            port: 993,\r\n+            tls: true,\r\n+            tlsOptions: { rejectUnauthorized: false },\r\n+            authTimeout: 10000\r\n+        }\r\n+    });\r\n+    await connection.openBox('INBOX');\r\n+\r\n+    // Fetch the 15 most recent emails\r\n+    const searchCriteria = ['UNSEEN'];\r\n+    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n+    const messages = await connection.search(searchCriteria, fetchOptions);\r\n+\r\n+    const parsedMails = await Promise.all(\r\n+        messages.slice(-10).map(async (item) => {\r\n+            const all = item.parts.find((part) => part.which === '');\r\n+            const mail = await simpleParser(all.body);\r\n+\r\n+            const savedFiles = [];\r\n+\r\n+            if (mail.attachments && mail.attachments.length > 0) {\r\n+                mail.attachments.forEach(attachment => {\r\n+                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n+                    const filepath = join(__dirname, 'uploads', filename);\r\n+\r\n+                    // Write the file buffer to your server disk\r\n+                    writeFileSync(filepath, attachment.content);\r\n+\r\n+                    savedFiles.push({\r\n+                        fileName: attachment.filename,\r\n+                        contentType: attachment.contentType,\r\n+                        url: `/uploads/${filename}` // URL to access the file\r\n+                    });\r\n+                });\r\n+            }\r\n+            const emailSender = mail.from.text.split('@')[0];\r\n+            const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+            return {\r\n+                id: item.attributes.uid,\r\n+                folder: 'inbox',\r\n+                Sender: user,\r\n+                subject: mail.subject,\r\n+                from: mail.from.text,\r\n+                date: mail.date,\r\n+                text: mail.text,\r\n+                attachments: savedFiles\r\n+            };\r\n+        })\r\n+    );\r\n+\r\n+    connection.end();\r\n+    const emailUser = email.split('@')[0];\r\n+    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+    return {\r\n+        userName,\r\n+        mails: parsedMails.reverse(), // Newest first\r\n+    };\r\n+};\r\n+\r\n+export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767117802807,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,79 @@\n+import imaps from 'imap-simple';\r\n+import { simpleParser } from 'mailparser';\r\n+import { mailConfig } from '../config/mailConfig.js';\r\n+import { join, dirname } from 'path';\r\n+import { fileURLToPath } from 'url';\r\n+import { writeFileSync } from 'fs';\r\n+import dotenv from 'dotenv';\r\n+dotenv.config();\r\n+\r\n+const __filename = fileURLToPath(import.meta.url);\r\n+const __dirname = dirname(__filename);\r\n+\r\n+const fetchInbox = async (email, password) => {\r\n+    const connection = await imaps.connect({\r\n+        imap: {\r\n+            user: email,\r\n+            password: password,\r\n+            host: 'imap.stackmail.com',\r\n+            port: 993,\r\n+            tls: true,\r\n+            tlsOptions: { rejectUnauthorized: false },\r\n+            authTimeout: 10000\r\n+        }\r\n+    });\r\n+    await connection.openBox('INBOX');\r\n+\r\n+    // Fetch the 15 most recent emails\r\n+    const searchCriteria = ['UNSEEN'];\r\n+    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n+    const messages = await connection.search(searchCriteria, fetchOptions);\r\n+\r\n+    const parsedMails = await Promise.all(\r\n+        messages.slice(-10).map(async (item) => {\r\n+            const all = item.parts.find((part) => part.which === '');\r\n+            const mail = await simpleParser(all.body);\r\n+\r\n+            const savedFiles = [];\r\n+\r\n+            if (mail.attachments && mail.attachments.length > 0) {\r\n+                mail.attachments.forEach(attachment => {\r\n+                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n+                    const filepath = join(__dirname, 'uploads', filename);\r\n+\r\n+                    // Write the file buffer to your server disk\r\n+                    writeFileSync(filepath, attachment.content);\r\n+\r\n+                    savedFiles.push({\r\n+                        fileName: attachment.filename,\r\n+                        contentType: attachment.contentType,\r\n+                        url: `/uploads/${filename}` // URL to access the file\r\n+                    });\r\n+                });\r\n+            }\r\n+            const emailSender = mail.from.text.split('@')[0];\r\n+            const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+            return {\r\n+                id: item.attributes.uid,\r\n+                folder: 'inbox',\r\n+                Sender: userName,\r\n+                \r\n+                subject: mail.subject,\r\n+                from: mail.from.text,\r\n+                date: mail.date,\r\n+                text: mail.text,\r\n+                attachments: savedFiles\r\n+            };\r\n+        })\r\n+    );\r\n+\r\n+    connection.end();\r\n+    const emailUser = email.split('@')[0];\r\n+    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+    return {\r\n+        userName,\r\n+        mails: parsedMails.reverse(), // Newest first\r\n+    };\r\n+};\r\n+\r\n+export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767117809029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,9 +56,9 @@\n             return {\r\n                 id: item.attributes.uid,\r\n                 folder: 'inbox',\r\n                 Sender: userName,\r\n-                \r\n+                previ\r\n                 subject: mail.subject,\r\n                 from: mail.from.text,\r\n                 date: mail.date,\r\n                 text: mail.text,\r\n@@ -75,622 +75,5 @@\n         mails: parsedMails.reverse(), // Newest first\r\n     };\r\n };\r\n \r\n-export { fetchInbox };\n-import imaps from 'imap-simple';\r\n-import { simpleParser } from 'mailparser';\r\n-import { mailConfig } from '../config/mailConfig.js';\r\n-import { join, dirname } from 'path';\r\n-import { fileURLToPath } from 'url';\r\n-import { writeFileSync } from 'fs';\r\n-import dotenv from 'dotenv';\r\n-dotenv.config();\r\n-\r\n-const __filename = fileURLToPath(import.meta.url);\r\n-const __dirname = dirname(__filename);\r\n-\r\n-const fetchInbox = async (email, password) => {\r\n-    const connection = await imaps.connect({\r\n-        imap: {\r\n-            user: email,\r\n-            password: password,\r\n-            host: 'imap.stackmail.com',\r\n-            port: 993,\r\n-            tls: true,\r\n-            tlsOptions: { rejectUnauthorized: false },\r\n-            authTimeout: 10000\r\n-        }\r\n-    });\r\n-    await connection.openBox('INBOX');\r\n-\r\n-    // Fetch the 15 most recent emails\r\n-    const searchCriteria = ['UNSEEN'];\r\n-    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n-    const messages = await connection.search(searchCriteria, fetchOptions);\r\n-\r\n-    const parsedMails = await Promise.all(\r\n-        messages.slice(-10).map(async (item) => {\r\n-            const all = item.parts.find((part) => part.which === '');\r\n-            const mail = await simpleParser(all.body);\r\n-\r\n-            const savedFiles = [];\r\n-\r\n-            if (mail.attachments && mail.attachments.length > 0) {\r\n-                mail.attachments.forEach(attachment => {\r\n-                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n-                    const filepath = join(__dirname, 'uploads', filename);\r\n-\r\n-                    // Write the file buffer to your server disk\r\n-                    writeFileSync(filepath, attachment.content);\r\n-\r\n-                    savedFiles.push({\r\n-                        fileName: attachment.filename,\r\n-                        contentType: attachment.contentType,\r\n-                        url: `/uploads/${filename}` // URL to access the file\r\n-                    });\r\n-                });\r\n-            }\r\n-            const emailSender = mail.from.text.split('@')[0];\r\n-            const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-            return {\r\n-                id: item.attributes.uid,\r\n-                folder: 'inbox',\r\n-                Sender: user,\r\n-                subject: mail.subject,\r\n-                from: mail.from.text,\r\n-                date: mail.date,\r\n-                text: mail.text,\r\n-                attachments: savedFiles\r\n-            };\r\n-        })\r\n-    );\r\n-\r\n-    connection.end();\r\n-    const emailUser = email.split('@')[0];\r\n-    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-    return {\r\n-        userName,\r\n-        mails: parsedMails.reverse(), // Newest first\r\n-    };\r\n-};\r\n-\r\n-export { fetchInbox };\n-import imaps from 'imap-simple';\r\n-import { simpleParser } from 'mailparser';\r\n-import { mailConfig } from '../config/mailConfig.js';\r\n-import { join, dirname } from 'path';\r\n-import { fileURLToPath } from 'url';\r\n-import { writeFileSync } from 'fs';\r\n-import dotenv from 'dotenv';\r\n-dotenv.config();\r\n-\r\n-const __filename = fileURLToPath(import.meta.url);\r\n-const __dirname = dirname(__filename);\r\n-\r\n-const fetchInbox = async (email, password) => {\r\n-    const connection = await imaps.connect({\r\n-        imap: {\r\n-            user: email,\r\n-            password: password,\r\n-            host: 'imap.stackmail.com',\r\n-            port: 993,\r\n-            tls: true,\r\n-            tlsOptions: { rejectUnauthorized: false },\r\n-            authTimeout: 10000\r\n-        }\r\n-    });\r\n-    await connection.openBox('INBOX');\r\n-\r\n-    // Fetch the 15 most recent emails\r\n-    const searchCriteria = ['UNSEEN'];\r\n-    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n-    const messages = await connection.search(searchCriteria, fetchOptions);\r\n-\r\n-    const parsedMails = await Promise.all(\r\n-        messages.slice(-10).map(async (item) => {\r\n-            const all = item.parts.find((part) => part.which === '');\r\n-            const mail = await simpleParser(all.body);\r\n-\r\n-            const savedFiles = [];\r\n-\r\n-            if (mail.attachments && mail.attachments.length > 0) {\r\n-                mail.attachments.forEach(attachment => {\r\n-                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n-                    const filepath = join(__dirname, 'uploads', filename);\r\n-\r\n-                    // Write the file buffer to your server disk\r\n-                    writeFileSync(filepath, attachment.content);\r\n-\r\n-                    savedFiles.push({\r\n-                        fileName: attachment.filename,\r\n-                        contentType: attachment.contentType,\r\n-                        url: `/uploads/${filename}` // URL to access the file\r\n-                    });\r\n-                });\r\n-            }\r\n-            const emailSender = mail.from.text.split('@')[0];\r\n-            \r\n-            return {\r\n-                id: item.attributes.uid,\r\n-                folder: 'inbox',\r\n-                Sender: mail.from.text,\r\n-                subject: mail.subject,\r\n-                from: mail.from.text,\r\n-                date: mail.date,\r\n-                text: mail.text,\r\n-                attachments: savedFiles\r\n-            };\r\n-        })\r\n-    );\r\n-\r\n-    connection.end();\r\n-    const emailUser = email.split('@')[0];\r\n-    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-    return {\r\n-        userName,\r\n-        mails: parsedMails.reverse(), // Newest first\r\n-    };\r\n-};\r\n-\r\n-export { fetchInbox };\n-import imaps from 'imap-simple';\r\n-import { simpleParser } from 'mailparser';\r\n-import { mailConfig } from '../config/mailConfig.js';\r\n-import { join, dirname } from 'path';\r\n-import { fileURLToPath } from 'url';\r\n-import { writeFileSync } from 'fs';\r\n-import dotenv from 'dotenv';\r\n-dotenv.config();\r\n-\r\n-const __filename = fileURLToPath(import.meta.url);\r\n-const __dirname = dirname(__filename);\r\n-\r\n-const fetchInbox = async (email, password) => {\r\n-    const connection = await imaps.connect({\r\n-        imap: {\r\n-            user: email,\r\n-            password: password,\r\n-            host: 'imap.stackmail.com',\r\n-            port: 993,\r\n-            tls: true,\r\n-            tlsOptions: { rejectUnauthorized: false },\r\n-            authTimeout: 10000\r\n-        }\r\n-    });\r\n-    await connection.openBox('INBOX');\r\n-\r\n-    // Fetch the 15 most recent emails\r\n-    const searchCriteria = ['UNSEEN'];\r\n-    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n-    const messages = await connection.search(searchCriteria, fetchOptions);\r\n-\r\n-    const parsedMails = await Promise.all(\r\n-        messages.slice(-10).map(async (item) => {\r\n-            const all = item.parts.find((part) => part.which === '');\r\n-            const mail = await simpleParser(all.body);\r\n-\r\n-            const savedFiles = [];\r\n-\r\n-            if (mail.attachments && mail.attachments.length > 0) {\r\n-                mail.attachments.forEach(attachment => {\r\n-                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n-                    const filepath = join(__dirname, 'uploads', filename);\r\n-\r\n-                    // Write the file buffer to your server disk\r\n-                    writeFileSync(filepath, attachment.content);\r\n-\r\n-                    savedFiles.push({\r\n-                        fileName: attachment.filename,\r\n-                        contentType: attachment.contentType,\r\n-                        url: `/uploads/${filename}` // URL to access the file\r\n-                    });\r\n-                });\r\n-            }\r\n-            const emailSender = mail.from.textsplit('@')[0];\r\n-            return {\r\n-                id: item.attributes.uid,\r\n-                folder: 'inbox',\r\n-                Sender: mail.from.text,\r\n-                subject: mail.subject,\r\n-                from: mail.from.text,\r\n-                date: mail.date,\r\n-                text: mail.text,\r\n-                attachments: savedFiles\r\n-            };\r\n-        })\r\n-    );\r\n-\r\n-    connection.end();\r\n-    const emailUser = email.split('@')[0];\r\n-    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-    return {\r\n-        userName,\r\n-        mails: parsedMails.reverse(), // Newest first\r\n-    };\r\n-};\r\n-\r\n-export { fetchInbox };\n-import imaps from 'imap-simple';\r\n-import { simpleParser } from 'mailparser';\r\n-import { mailConfig } from '../config/mailConfig.js';\r\n-import { join, dirname } from 'path';\r\n-import { fileURLToPath } from 'url';\r\n-import { writeFileSync } from 'fs';\r\n-import dotenv from 'dotenv';\r\n-dotenv.config();\r\n-\r\n-const __filename = fileURLToPath(import.meta.url);\r\n-const __dirname = dirname(__filename);\r\n-\r\n-const fetchInbox = async (email, password) => {\r\n-    const connection = await imaps.connect({\r\n-        imap: {\r\n-            user: email,\r\n-            password: password,\r\n-            host: 'imap.stackmail.com',\r\n-            port: 993,\r\n-            tls: true,\r\n-            tlsOptions: { rejectUnauthorized: false },\r\n-            authTimeout: 10000\r\n-        }\r\n-    });\r\n-    await connection.openBox('INBOX');\r\n-\r\n-    // Fetch the 15 most recent emails\r\n-    const searchCriteria = ['UNSEEN'];\r\n-    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n-    const messages = await connection.search(searchCriteria, fetchOptions);\r\n-\r\n-    const parsedMails = await Promise.all(\r\n-        messages.slice(-10).map(async (item) => {\r\n-            const all = item.parts.find((part) => part.which === '');\r\n-            const mail = await simpleParser(all.body);\r\n-\r\n-            const savedFiles = [];\r\n-\r\n-            if (mail.attachments && mail.attachments.length > 0) {\r\n-                mail.attachments.forEach(attachment => {\r\n-                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n-                    const filepath = join(__dirname, 'uploads', filename);\r\n-\r\n-                    // Write the file buffer to your server disk\r\n-                    writeFileSync(filepath, attachment.content);\r\n-\r\n-                    savedFiles.push({\r\n-                        fileName: attachment.filename,\r\n-                        contentType: attachment.contentType,\r\n-                        url: `/uploads/${filename}` // URL to access the file\r\n-                    });\r\n-                });\r\n-            }\r\n-            \r\n-            return {\r\n-                id: item.attributes.uid,\r\n-                folder: 'inbox',\r\n-                Sender: mail.from.text,\r\n-                subject: mail.subject,\r\n-                from: mail.from.text,\r\n-                date: mail.date,\r\n-                text: mail.text,\r\n-                attachments: savedFiles\r\n-            };\r\n-        })\r\n-    );\r\n-\r\n-    connection.end();\r\n-    const emailUser = email.split('@')[0];\r\n-    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-    return {\r\n-        userName,\r\n-        mails: parsedMails.reverse(), // Newest first\r\n-    };\r\n-};\r\n-\r\n-export { fetchInbox };\n-import imaps from 'imap-simple';\r\n-import { simpleParser } from 'mailparser';\r\n-import { mailConfig } from '../config/mailConfig.js';\r\n-import { join, dirname } from 'path';\r\n-import { fileURLToPath } from 'url';\r\n-import { writeFileSync } from 'fs';\r\n-import dotenv from 'dotenv';\r\n-dotenv.config();\r\n-\r\n-const __filename = fileURLToPath(import.meta.url);\r\n-const __dirname = dirname(__filename);\r\n-\r\n-const fetchInbox = async (email, password) => {\r\n-    const connection = await imaps.connect({\r\n-        imap: {\r\n-            user: email,\r\n-            password: password,\r\n-            host: 'imap.stackmail.com',\r\n-            port: 993,\r\n-            tls: true,\r\n-            tlsOptions: { rejectUnauthorized: false },\r\n-            authTimeout: 10000\r\n-        }\r\n-    });\r\n-    await connection.openBox('INBOX');\r\n-\r\n-    // Fetch the 15 most recent emails\r\n-    const searchCriteria = ['UNSEEN'];\r\n-    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n-    const messages = await connection.search(searchCriteria, fetchOptions);\r\n-\r\n-    const parsedMails = await Promise.all(\r\n-        messages.slice(-10).map(async (item) => {\r\n-            const all = item.parts.find((part) => part.which === '');\r\n-            const mail = await simpleParser(all.body);\r\n-\r\n-            const savedFiles = [];\r\n-\r\n-            if (mail.attachments && mail.attachments.length > 0) {\r\n-                mail.attachments.forEach(attachment => {\r\n-                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n-                    const filepath = join(__dirname, 'uploads', filename);\r\n-\r\n-                    // Write the file buffer to your server disk\r\n-                    writeFileSync(filepath, attachment.content);\r\n-\r\n-                    savedFiles.push({\r\n-                        fileName: attachment.filename,\r\n-                        contentType: attachment.contentType,\r\n-                        url: `/uploads/${filename}` // URL to access the file\r\n-                    });\r\n-                });\r\n-            }\r\n-            const emailSender = mail.from.text.split('@')[0];\r\n-            return {\r\n-                id: item.attributes.uid,\r\n-                folder: 'inbox',\r\n-                Sender: mail.from.text,\r\n-                subject: mail.subject,\r\n-                from: mail.from.text,\r\n-                date: mail.date,\r\n-                text: mail.text,\r\n-                attachments: savedFiles\r\n-            };\r\n-        })\r\n-    );\r\n-\r\n-    connection.end();\r\n-    const emailUser = email.split('@')[0];\r\n-    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-    return {\r\n-        userName,\r\n-        mails: parsedMails.reverse(), // Newest first\r\n-    };\r\n-};\r\n-\r\n-export { fetchInbox };\n-import imaps from 'imap-simple';\r\n-import { simpleParser } from 'mailparser';\r\n-import { mailConfig } from '../config/mailConfig.js';\r\n-import { join, dirname } from 'path';\r\n-import { fileURLToPath } from 'url';\r\n-import { writeFileSync } from 'fs';\r\n-import dotenv from 'dotenv';\r\n-dotenv.config();\r\n-\r\n-const __filename = fileURLToPath(import.meta.url);\r\n-const __dirname = dirname(__filename);\r\n-\r\n-const fetchInbox = async (email, password) => {\r\n-    const connection = await imaps.connect({\r\n-        imap: {\r\n-            user: email,\r\n-            password: password,\r\n-            host: 'imap.stackmail.com',\r\n-            port: 993,\r\n-            tls: true,\r\n-            tlsOptions: { rejectUnauthorized: false },\r\n-            authTimeout: 10000\r\n-        }\r\n-    });\r\n-    await connection.openBox('INBOX');\r\n-\r\n-    // Fetch the 15 most recent emails\r\n-    const searchCriteria = ['UNSEEN'];\r\n-    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n-    const messages = await connection.search(searchCriteria, fetchOptions);\r\n-\r\n-    const parsedMails = await Promise.all(\r\n-        messages.slice(-10).map(async (item) => {\r\n-            const all = item.parts.find((part) => part.which === '');\r\n-            const mail = await simpleParser(all.body);\r\n-\r\n-            const savedFiles = [];\r\n-\r\n-            if (mail.attachments && mail.attachments.length > 0) {\r\n-                mail.attachments.forEach(attachment => {\r\n-                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n-                    const filepath = join(__dirname, 'uploads', filename);\r\n-\r\n-                    // Write the file buffer to your server disk\r\n-                    writeFileSync(filepath, attachment.content);\r\n-\r\n-                    savedFiles.push({\r\n-                        fileName: attachment.filename,\r\n-                        contentType: attachment.contentType,\r\n-                        url: `/uploads/${filename}` // URL to access the file\r\n-                    });\r\n-                });\r\n-            }\r\n-            const emailSender = mail.split('@')[0];\r\n-            return {\r\n-                id: item.attributes.uid,\r\n-                folder: 'inbox',\r\n-                Sender: mail.from.text,\r\n-                subject: mail.subject,\r\n-                from: mail.from.text,\r\n-                date: mail.date,\r\n-                text: mail.text,\r\n-                attachments: savedFiles\r\n-            };\r\n-        })\r\n-    );\r\n-\r\n-    connection.end();\r\n-    const emailUser = email.split('@')[0];\r\n-    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-    return {\r\n-        userName,\r\n-        mails: parsedMails.reverse(), // Newest first\r\n-    };\r\n-};\r\n-\r\n-export { fetchInbox };\n-import imaps from 'imap-simple';\r\n-import { simpleParser } from 'mailparser';\r\n-import { mailConfig } from '../config/mailConfig.js';\r\n-import { join, dirname } from 'path';\r\n-import { fileURLToPath } from 'url';\r\n-import { writeFileSync } from 'fs';\r\n-import dotenv from 'dotenv';\r\n-dotenv.config();\r\n-\r\n-const __filename = fileURLToPath(import.meta.url);\r\n-const __dirname = dirname(__filename);\r\n-\r\n-const fetchInbox = async (email, password) => {\r\n-    const connection = await imaps.connect({\r\n-        imap: {\r\n-            user: email,\r\n-            password: password,\r\n-            host: 'imap.stackmail.com',\r\n-            port: 993,\r\n-            tls: true,\r\n-            tlsOptions: { rejectUnauthorized: false },\r\n-            authTimeout: 10000\r\n-        }\r\n-    });\r\n-    await connection.openBox('INBOX');\r\n-\r\n-    // Fetch the 15 most recent emails\r\n-    const searchCriteria = ['UNSEEN'];\r\n-    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n-    const messages = await connection.search(searchCriteria, fetchOptions);\r\n-\r\n-    const parsedMails = await Promise.all(\r\n-        messages.slice(-10).map(async (item) => {\r\n-            const all = item.parts.find((part) => part.which === '');\r\n-            const mail = await simpleParser(all.body);\r\n-\r\n-            const savedFiles = [];\r\n-\r\n-            if (mail.attachments && mail.attachments.length > 0) {\r\n-                mail.attachments.forEach(attachment => {\r\n-                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n-                    const filepath = join(__dirname, 'uploads', filename);\r\n-\r\n-                    // Write the file buffer to your server disk\r\n-                    writeFileSync(filepath, attachment.content);\r\n-\r\n-                    savedFiles.push({\r\n-                        fileName: attachment.filename,\r\n-                        contentType: attachment.contentType,\r\n-                        url: `/uploads/${filename}` // URL to access the file\r\n-                    });\r\n-                });\r\n-            }\r\n-            \r\n-            return {\r\n-                id: item.attributes.uid,\r\n-                folder: 'inbox',\r\n-                Sender: mail.from.text,\r\n-                subject: mail.subject,\r\n-                from: mail.from.text,\r\n-                date: mail.date,\r\n-                text: mail.text,\r\n-                attachments: savedFiles\r\n-            };\r\n-        })\r\n-    );\r\n-\r\n-    connection.end();\r\n-    const emailUser = email.split('@')[0];\r\n-    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-    return {\r\n-        userName,\r\n-        mails: parsedMails.reverse(), // Newest first\r\n-    };\r\n-};\r\n-\r\n-export { fetchInbox };\n-import imaps from 'imap-simple';\r\n-import { simpleParser } from 'mailparser';\r\n-import { mailConfig } from '../config/mailConfig.js';\r\n-import { join, dirname } from 'path';\r\n-import { fileURLToPath } from 'url';\r\n-import { writeFileSync } from 'fs';\r\n-import dotenv from 'dotenv';\r\n-dotenv.config();\r\n-\r\n-const __filename = fileURLToPath(import.meta.url);\r\n-const __dirname = dirname(__filename);\r\n-\r\n-const fetchInbox = async (email, password) => {\r\n-    const connection = await imaps.connect({\r\n-        imap: {\r\n-            user: email,\r\n-            password: password,\r\n-            host: 'imap.stackmail.com',\r\n-            port: 993,\r\n-            tls: true,\r\n-            tlsOptions: { rejectUnauthorized: false },\r\n-            authTimeout: 10000\r\n-        }\r\n-    });\r\n-    await connection.openBox('INBOX');\r\n-\r\n-    // Fetch the 15 most recent emails\r\n-    const searchCriteria = ['UNSEEN'];\r\n-    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n-    const messages = await connection.search(searchCriteria, fetchOptions);\r\n-\r\n-    const parsedMails = await Promise.all(\r\n-        messages.slice(-10).map(async (item) => {\r\n-            const all = item.parts.find((part) => part.which === '');\r\n-            const mail = await simpleParser(all.body);\r\n-\r\n-            const savedFiles = [];\r\n-\r\n-            if (mail.attachments && mail.attachments.length > 0) {\r\n-                mail.attachments.forEach(attachment => {\r\n-                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n-                    const filepath = join(__dirname, 'uploads', filename);\r\n-\r\n-                    // Write the file buffer to your server disk\r\n-                    writeFileSync(filepath, attachment.content);\r\n-\r\n-                    savedFiles.push({\r\n-                        fileName: attachment.filename,\r\n-                        contentType: attachment.contentType,\r\n-                        url: `/uploads/${filename}` // URL to access the file\r\n-                    });\r\n-                });\r\n-            }\r\n-            return {\r\n-                id: item.attributes.uid,\r\n-                folder: 'inbox',\r\n-                Sender: mail.from.text,\r\n-                subject: mail.subject,\r\n-                from: mail.from.text,\r\n-                date: mail.date,\r\n-                text: mail.text,\r\n-                attachments: savedFiles\r\n-            };\r\n-        })\r\n-    );\r\n-\r\n-    connection.end();\r\n-    const emailUser = email.split('@')[0];\r\n-    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-    return {\r\n-        userName,\r\n-        mails: parsedMails.reverse(), // Newest first\r\n-    };\r\n-};\r\n-\r\n export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767117815409,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,79 @@\n+import imaps from 'imap-simple';\r\n+import { simpleParser } from 'mailparser';\r\n+import { mailConfig } from '../config/mailConfig.js';\r\n+import { join, dirname } from 'path';\r\n+import { fileURLToPath } from 'url';\r\n+import { writeFileSync } from 'fs';\r\n+import dotenv from 'dotenv';\r\n+dotenv.config();\r\n+\r\n+const __filename = fileURLToPath(import.meta.url);\r\n+const __dirname = dirname(__filename);\r\n+\r\n+const fetchInbox = async (email, password) => {\r\n+    const connection = await imaps.connect({\r\n+        imap: {\r\n+            user: email,\r\n+            password: password,\r\n+            host: 'imap.stackmail.com',\r\n+            port: 993,\r\n+            tls: true,\r\n+            tlsOptions: { rejectUnauthorized: false },\r\n+            authTimeout: 10000\r\n+        }\r\n+    });\r\n+    await connection.openBox('INBOX');\r\n+\r\n+    // Fetch the 15 most recent emails\r\n+    const searchCriteria = ['UNSEEN'];\r\n+    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n+    const messages = await connection.search(searchCriteria, fetchOptions);\r\n+\r\n+    const parsedMails = await Promise.all(\r\n+        messages.slice(-10).map(async (item) => {\r\n+            const all = item.parts.find((part) => part.which === '');\r\n+            const mail = await simpleParser(all.body);\r\n+\r\n+            const savedFiles = [];\r\n+\r\n+            if (mail.attachments && mail.attachments.length > 0) {\r\n+                mail.attachments.forEach(attachment => {\r\n+                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n+                    const filepath = join(__dirname, 'uploads', filename);\r\n+\r\n+                    // Write the file buffer to your server disk\r\n+                    writeFileSync(filepath, attachment.content);\r\n+\r\n+                    savedFiles.push({\r\n+                        fileName: attachment.filename,\r\n+                        contentType: attachment.contentType,\r\n+                        url: `/uploads/${filename}` // URL to access the file\r\n+                    });\r\n+                });\r\n+            }\r\n+            const emailSender = mail.from.text.split('@')[0];\r\n+            const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+            return {\r\n+                id: item.attributes.uid,\r\n+                folder: 'inbox',\r\n+                Sender: userName,\r\n+                preview: mail.,\r\n+                subject: mail.subject,\r\n+                from: mail.from.text,\r\n+                date: mail.date,\r\n+                text: mail.text,\r\n+                attachments: savedFiles\r\n+            };\r\n+        })\r\n+    );\r\n+\r\n+    connection.end();\r\n+    const emailUser = email.split('@')[0];\r\n+    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+    return {\r\n+        userName,\r\n+        mails: parsedMails.reverse(), // Newest first\r\n+    };\r\n+};\r\n+\r\n+export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767117892504,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,79 @@\n+import imaps from 'imap-simple';\r\n+import { simpleParser } from 'mailparser';\r\n+import { mailConfig } from '../config/mailConfig.js';\r\n+import { join, dirname } from 'path';\r\n+import { fileURLToPath } from 'url';\r\n+import { writeFileSync } from 'fs';\r\n+import dotenv from 'dotenv';\r\n+dotenv.config();\r\n+\r\n+const __filename = fileURLToPath(import.meta.url);\r\n+const __dirname = dirname(__filename);\r\n+\r\n+const fetchInbox = async (email, password) => {\r\n+    const connection = await imaps.connect({\r\n+        imap: {\r\n+            user: email,\r\n+            password: password,\r\n+            host: 'imap.stackmail.com',\r\n+            port: 993,\r\n+            tls: true,\r\n+            tlsOptions: { rejectUnauthorized: false },\r\n+            authTimeout: 10000\r\n+        }\r\n+    });\r\n+    await connection.openBox('INBOX');\r\n+\r\n+    // Fetch the 15 most recent emails\r\n+    const searchCriteria = ['UNSEEN'];\r\n+    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n+    const messages = await connection.search(searchCriteria, fetchOptions);\r\n+\r\n+    const parsedMails = await Promise.all(\r\n+        messages.slice(-10).map(async (item) => {\r\n+            const all = item.parts.find((part) => part.which === '');\r\n+            const mail = await simpleParser(all.body);\r\n+\r\n+            const savedFiles = [];\r\n+\r\n+            if (mail.attachments && mail.attachments.length > 0) {\r\n+                mail.attachments.forEach(attachment => {\r\n+                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n+                    const filepath = join(__dirname, 'uploads', filename);\r\n+\r\n+                    // Write the file buffer to your server disk\r\n+                    writeFileSync(filepath, attachment.content);\r\n+\r\n+                    savedFiles.push({\r\n+                        fileName: attachment.filename,\r\n+                        contentType: attachment.contentType,\r\n+                        url: `/uploads/${filename}` // URL to access the file\r\n+                    });\r\n+                });\r\n+            }\r\n+            const emailSender = mail.from.text.split('@')[0];\r\n+            const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+            return {\r\n+                id: item.attributes.uid,\r\n+                folder: 'inbox',\r\n+                Sender: userName,\r\n+                preview: mail.text,\r\n+                subject: mail.subject,\r\n+                from: mail.from.text,\r\n+                date: mail.date,\r\n+                text: mail.text,\r\n+                attachments: savedFiles\r\n+            };\r\n+        })\r\n+    );\r\n+\r\n+    connection.end();\r\n+    const emailUser = email.split('@')[0];\r\n+    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+    return {\r\n+        userName,\r\n+        mails: parsedMails.reverse(), // Newest first\r\n+    };\r\n+};\r\n+\r\n+export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767117979107,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,9 +56,9 @@\n             return {\r\n                 id: item.attributes.uid,\r\n                 folder: 'inbox',\r\n                 Sender: userName,\r\n-                preview: mail.text,\r\n+                preview: mail.textAsHtml.slice(0, 100),\r\n                 subject: mail.subject,\r\n                 from: mail.from.text,\r\n                 date: mail.date,\r\n                 text: mail.text,\r\n@@ -75,163 +75,5 @@\n         mails: parsedMails.reverse(), // Newest first\r\n     };\r\n };\r\n \r\n-export { fetchInbox };\n-import imaps from 'imap-simple';\r\n-import { simpleParser } from 'mailparser';\r\n-import { mailConfig } from '../config/mailConfig.js';\r\n-import { join, dirname } from 'path';\r\n-import { fileURLToPath } from 'url';\r\n-import { writeFileSync } from 'fs';\r\n-import dotenv from 'dotenv';\r\n-dotenv.config();\r\n-\r\n-const __filename = fileURLToPath(import.meta.url);\r\n-const __dirname = dirname(__filename);\r\n-\r\n-const fetchInbox = async (email, password) => {\r\n-    const connection = await imaps.connect({\r\n-        imap: {\r\n-            user: email,\r\n-            password: password,\r\n-            host: 'imap.stackmail.com',\r\n-            port: 993,\r\n-            tls: true,\r\n-            tlsOptions: { rejectUnauthorized: false },\r\n-            authTimeout: 10000\r\n-        }\r\n-    });\r\n-    await connection.openBox('INBOX');\r\n-\r\n-    // Fetch the 15 most recent emails\r\n-    const searchCriteria = ['UNSEEN'];\r\n-    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n-    const messages = await connection.search(searchCriteria, fetchOptions);\r\n-\r\n-    const parsedMails = await Promise.all(\r\n-        messages.slice(-10).map(async (item) => {\r\n-            const all = item.parts.find((part) => part.which === '');\r\n-            const mail = await simpleParser(all.body);\r\n-\r\n-            const savedFiles = [];\r\n-\r\n-            if (mail.attachments && mail.attachments.length > 0) {\r\n-                mail.attachments.forEach(attachment => {\r\n-                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n-                    const filepath = join(__dirname, 'uploads', filename);\r\n-\r\n-                    // Write the file buffer to your server disk\r\n-                    writeFileSync(filepath, attachment.content);\r\n-\r\n-                    savedFiles.push({\r\n-                        fileName: attachment.filename,\r\n-                        contentType: attachment.contentType,\r\n-                        url: `/uploads/${filename}` // URL to access the file\r\n-                    });\r\n-                });\r\n-            }\r\n-            const emailSender = mail.from.text.split('@')[0];\r\n-            const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-            return {\r\n-                id: item.attributes.uid,\r\n-                folder: 'inbox',\r\n-                Sender: userName,\r\n-                preview: mail.,\r\n-                subject: mail.subject,\r\n-                from: mail.from.text,\r\n-                date: mail.date,\r\n-                text: mail.text,\r\n-                attachments: savedFiles\r\n-            };\r\n-        })\r\n-    );\r\n-\r\n-    connection.end();\r\n-    const emailUser = email.split('@')[0];\r\n-    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-    return {\r\n-        userName,\r\n-        mails: parsedMails.reverse(), // Newest first\r\n-    };\r\n-};\r\n-\r\n-export { fetchInbox };\n-import imaps from 'imap-simple';\r\n-import { simpleParser } from 'mailparser';\r\n-import { mailConfig } from '../config/mailConfig.js';\r\n-import { join, dirname } from 'path';\r\n-import { fileURLToPath } from 'url';\r\n-import { writeFileSync } from 'fs';\r\n-import dotenv from 'dotenv';\r\n-dotenv.config();\r\n-\r\n-const __filename = fileURLToPath(import.meta.url);\r\n-const __dirname = dirname(__filename);\r\n-\r\n-const fetchInbox = async (email, password) => {\r\n-    const connection = await imaps.connect({\r\n-        imap: {\r\n-            user: email,\r\n-            password: password,\r\n-            host: 'imap.stackmail.com',\r\n-            port: 993,\r\n-            tls: true,\r\n-            tlsOptions: { rejectUnauthorized: false },\r\n-            authTimeout: 10000\r\n-        }\r\n-    });\r\n-    await connection.openBox('INBOX');\r\n-\r\n-    // Fetch the 15 most recent emails\r\n-    const searchCriteria = ['UNSEEN'];\r\n-    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n-    const messages = await connection.search(searchCriteria, fetchOptions);\r\n-\r\n-    const parsedMails = await Promise.all(\r\n-        messages.slice(-10).map(async (item) => {\r\n-            const all = item.parts.find((part) => part.which === '');\r\n-            const mail = await simpleParser(all.body);\r\n-\r\n-            const savedFiles = [];\r\n-\r\n-            if (mail.attachments && mail.attachments.length > 0) {\r\n-                mail.attachments.forEach(attachment => {\r\n-                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n-                    const filepath = join(__dirname, 'uploads', filename);\r\n-\r\n-                    // Write the file buffer to your server disk\r\n-                    writeFileSync(filepath, attachment.content);\r\n-\r\n-                    savedFiles.push({\r\n-                        fileName: attachment.filename,\r\n-                        contentType: attachment.contentType,\r\n-                        url: `/uploads/${filename}` // URL to access the file\r\n-                    });\r\n-                });\r\n-            }\r\n-            const emailSender = mail.from.text.split('@')[0];\r\n-            const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-            return {\r\n-                id: item.attributes.uid,\r\n-                folder: 'inbox',\r\n-                Sender: userName,\r\n-                previ\r\n-                subject: mail.subject,\r\n-                from: mail.from.text,\r\n-                date: mail.date,\r\n-                text: mail.text,\r\n-                attachments: savedFiles\r\n-            };\r\n-        })\r\n-    );\r\n-\r\n-    connection.end();\r\n-    const emailUser = email.split('@')[0];\r\n-    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n-    return {\r\n-        userName,\r\n-        mails: parsedMails.reverse(), // Newest first\r\n-    };\r\n-};\r\n-\r\n export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767118089118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,9 +55,9 @@\n             const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n             return {\r\n                 id: item.attributes.uid,\r\n                 folder: 'inbox',\r\n-                Sender: userName,\r\n+                sender: userName,\r\n                 preview: mail.textAsHtml.slice(0, 100),\r\n                 subject: mail.subject,\r\n                 from: mail.from.text,\r\n                 date: mail.date,\r\n"
                },
                {
                    "date": 1767118101414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,80 @@\n+import imaps from 'imap-simple';\r\n+import { simpleParser } from 'mailparser';\r\n+import { mailConfig } from '../config/mailConfig.js';\r\n+import { join, dirname } from 'path';\r\n+import { fileURLToPath } from 'url';\r\n+import { writeFileSync } from 'fs';\r\n+import dotenv from 'dotenv';\r\n+dotenv.config();\r\n+\r\n+const __filename = fileURLToPath(import.meta.url);\r\n+const __dirname = dirname(__filename);\r\n+\r\n+const fetchInbox = async (email, password) => {\r\n+    const connection = await imaps.connect({\r\n+        imap: {\r\n+            user: email,\r\n+            password: password,\r\n+            host: 'imap.stackmail.com',\r\n+            port: 993,\r\n+            tls: true,\r\n+            tlsOptions: { rejectUnauthorized: false },\r\n+            authTimeout: 10000\r\n+        }\r\n+    });\r\n+    await connection.openBox('INBOX');\r\n+\r\n+    // Fetch the 15 most recent emails\r\n+    const searchCriteria = ['UNSEEN'];\r\n+    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n+    const messages = await connection.search(searchCriteria, fetchOptions);\r\n+\r\n+    const parsedMails = await Promise.all(\r\n+        messages.slice(-10).map(async (item) => {\r\n+            const all = item.parts.find((part) => part.which === '');\r\n+            const mail = await simpleParser(all.body);\r\n+\r\n+            const savedFiles = [];\r\n+\r\n+            if (mail.attachments && mail.attachments.length > 0) {\r\n+                mail.attachments.forEach(attachment => {\r\n+                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n+                    const filepath = join(__dirname, 'uploads', filename);\r\n+\r\n+                    // Write the file buffer to your server disk\r\n+                    writeFileSync(filepath, attachment.content);\r\n+\r\n+                    savedFiles.push({\r\n+                        fileName: attachment.filename,\r\n+                        contentType: attachment.contentType,\r\n+                        url: `/uploads/${filename}` // URL to access the file\r\n+                    });\r\n+                });\r\n+            }\r\n+            const emailSender = mail.from.text.split('@')[0];\r\n+            const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+            return {\r\n+                id: item.attributes.uid,\r\n+                folder: 'inbox',\r\n+                sender: userName,\r\n+                s\r\n+                preview: mail.textAsHtml.slice(0, 100),\r\n+                subject: mail.subject,\r\n+                from: mail.from.text,\r\n+                date: mail.date,\r\n+                text: mail.text,\r\n+                attachments: savedFiles\r\n+            };\r\n+        })\r\n+    );\r\n+\r\n+    connection.end();\r\n+    const emailUser = email.split('@')[0];\r\n+    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n+    return {\r\n+        userName,\r\n+        mails: parsedMails.reverse(), // Newest first\r\n+    };\r\n+};\r\n+\r\n+export { fetchInbox };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1767118140772,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n                 folder: 'inbox',\r\n                 sender: userName,\r\n                 subject: mail.subject,\r\n                 preview: mail.textAsHtml.slice(0, 100),\r\n-                subject: mail.subject,\r\n+                body\r\n                 from: mail.from.text,\r\n                 date: mail.date,\r\n                 text: mail.text,\r\n                 attachments: savedFiles\r\n"
                },
                {
                    "date": 1767118188284,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,9 @@\n                 sender: userName,\r\n                 subject: mail.subject,\r\n                 preview: mail.textAsHtml.slice(0, 100),\r\n                 body: mail.html,\r\n-                \r\n+                date:\r\n                 from: mail.from.text,\r\n                 date: mail.date,\r\n                 text: mail.text,\r\n                 attachments: savedFiles\r\n"
                }
            ],
            "date": 1767117310963,
            "name": "Commit-0",
            "content": "import imaps from 'imap-simple';\r\nimport { simpleParser } from 'mailparser';\r\nimport { mailConfig } from '../config/mailConfig.js';\r\nimport { join, dirname } from 'path';\r\nimport { fileURLToPath } from 'url';\r\nimport { writeFileSync } from 'fs';\r\nimport dotenv from 'dotenv';\r\ndotenv.config();\r\n\r\nconst __filename = fileURLToPath(import.meta.url);\r\nconst __dirname = dirname(__filename);\r\n\r\nconst fetchInbox = async (email, password) => {\r\n    const connection = await imaps.connect({\r\n        imap: {\r\n            user: email,\r\n            password: password,\r\n            host: 'imap.stackmail.com',\r\n            port: 993,\r\n            tls: true,\r\n            tlsOptions: { rejectUnauthorized: false },\r\n            authTimeout: 10000\r\n        }\r\n    });\r\n    await connection.openBox('INBOX');\r\n\r\n    // Fetch the 15 most recent emails\r\n    const searchCriteria = ['UNSEEN'];\r\n    const fetchOptions = { bodies: ['HEADER', 'TEXT', ''], struct: true };\r\n    const messages = await connection.search(searchCriteria, fetchOptions);\r\n\r\n    const parsedMails = await Promise.all(\r\n        messages.slice(-10).map(async (item) => {\r\n            const all = item.parts.find((part) => part.which === '');\r\n            const mail = await simpleParser(all.body);\r\n\r\n            const savedFiles = [];\r\n\r\n            if (mail.attachments && mail.attachments.length > 0) {\r\n                mail.attachments.forEach(attachment => {\r\n                    const filename = `${Date.now()}-${attachment.filename}`; // Ensure 'uploads' directory exists\r\n                    const filepath = join(__dirname, 'uploads', filename);\r\n\r\n                    // Write the file buffer to your server disk\r\n                    writeFileSync(filepath, attachment.content);\r\n\r\n                    savedFiles.push({\r\n                        fileName: attachment.filename,\r\n                        contentType: attachment.contentType,\r\n                        url: `/uploads/${filename}` // URL to access the file\r\n                    });\r\n                });\r\n            }\r\n            return {\r\n                id: item.attributes.uid,\r\n                \r\n                subject: mail.subject,\r\n                from: mail.from.text,\r\n                date: mail.date,\r\n                text: mail.text,\r\n                attachments: savedFiles\r\n            };\r\n        })\r\n    );\r\n\r\n    connection.end();\r\n    const emailUser = email.split('@')[0];\r\n    const userName = emailUser.split('.').map(name => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\r\n    return {\r\n        userName,\r\n        mails: parsedMails.reverse(), // Newest first\r\n    };\r\n};\r\n\r\nexport { fetchInbox };"
        }
    ]
}